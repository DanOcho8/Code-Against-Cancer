<!-- base.html -->
<!DOCTYPE html>
<html>
	<head>
		{% load static %}
		<meta charset="utf-8" />
		<title>{% block title %}CodeAgainstCancer{% endblock %}</title>
        <link rel="icon" href="{% static 'images/favicon.png' %}" type="image/png">
		<link rel="stylesheet" href="{% static 'css/styles.css' %}" />
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/icon?family=Material+Icons"
		/>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
			crossorigin="anonymous"
		/>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
		/>
	</head>

	<body>
        <header class="sticky-top">
            <nav class="navbar navbar-expand-lg">
                <div class="container-fluid">
                    <a class="navbar-brand" href="{% url 'home' %}">
                        <img
						src="{% static 'images/CACLOGO.png' %}"
						alt="Logo"
						width="35"
						height="32"
						class="d-inline-block align-text-top"
                        />
                        CodeAgainstCancer
                    </a>
                    <button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarSupportedContent"
					aria-controls="navbarSupportedContent"
					aria-expanded="false"
					aria-label="Toggle navigation"
                    >
					    <span class="navbar-toggler-icon"></span>
				    </button>
				    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'about' %}">About us</a>
                            </li>
                            {% if user.is_authenticated %}
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'resources' %}">Resources</a>
                            </li>
                            {% endif %}
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'searchRecipes' %}">Recipes</a>
                            </li>
                        </ul>
                        <form class="d-flex">
                            {% if user.is_authenticated %}
                                <button
                                class="btn btn-outline-primary"
                                formaction="{% url 'logout' %}"
                                >
                                Logout
                                </button>
                            {% else %}
                            <a class="btn btn-outline-primary" href="{% url 'login' %}"
                            >Login/Signup</a
                            >
                            {% endif %}
                        </form>
                    </div>
                </div>
            </nav>
        </header>

		{% if user.is_authenticated %}
		<div
			id="mySidebar"
			class="sidebar"
			onmouseover="toggleSidebar()"
			onmouseout="toggleSidebar()"
		>
			<a href="{% url 'home' %}">
				<span>
					<i class="material-icons">home</i>
					<span class="icon-text">Home</span>
				</span>
			</a>
			<br />
			<a href="#">
				<i class="material-icons">spa</i>
				<span class="icon-text">Diet Plan</span>
			</a>
			<br />
			<a href="{% url 'update_profile' %}">
				<i class="material-icons">manage_accounts</i>
				<span class="icon-text">Manage Profile</span>
			</a>
			<br />
			<a href="#">
				<i class="material-icons">group</i>
				<span class="icon-text">Community</span>
			</a>
			<br />
			<a href="{% url 'profile' %}">
				<i class="material-icons">person</i>
				<span class="icon-text">My Profile</span>
			</a>
			<br />
			<a href="{% url 'resources' %}">
				<i class="material-icons"> library_books </i>
				<span class="icon-text">Resources</span>
			</a>
		</div>
        {% comment %} NOTE: removed this div, I believe that it is not being used but if anything breaks let me know {% endcomment %}
		{% comment %} <div id="main"></div> {% endcomment %}
		{% endif %} 
		<main class="margin-bottom" style="{% if user.is_authenticated %}margin-left: 50px;{% else %}margin-left: 0;{% endif %}">{% block content %} {% endblock %}</main>
		<footer
        class="fixed-bottom bg-lightblue footer-custom"
		>
            <div class="container">
                <div class="row flex-nowrap justify-content-between align-items-center">
                    <div class="col d-flex justify-content-start">
                        {% if user.is_authenticated %}
                        <button class="btn btn-primary">Contact Your Nutritionist</button>
                        {% else %}
                        <!-- Add a blank div for spacing when not authenticated -->
                        <span class="invisible">placeholder</span>
                        {% endif %} 
                    </div>
                    <div class="col d-flex justify-content-center">
                        <a class="navbar-brand mx-auto" href="{% url 'home' %}">
                            <img
                            src="{% static 'images/CACLOGO.png' %}"
                            alt="Logo"
                            width="85"
                            height="80"
                            class="d-inline-block align-text-top"
                            />
                        </a>
                    </div>
                    <div class="col d-flex justify-content-end">
                        <a class="btn btn-primary" href="{% url 'donate' %}">Donate <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="currentColor"  class="icon icon-tabler icons-tabler-filled icon-tabler-heart"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z" /></svg></a>
                    </div>
                </div>
			</div>
		</footer>
		{% comment %} <script src="{% static 'sidebar.js' %}"></script> {% endcomment %}
		<script
			src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
			integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
			integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
			crossorigin="anonymous"
		></script>
		<script src="{% static 'scripts.js' %}"></script>
	</body>
</html>
